-- CREACIÓN DE LA BASE DE DATOS.
CREATE DATABASE IF NOT EXISTS HOSPITAL;
USE HOSPITAL;

-- CREACIÓN DE LAS TABLAS MEDICOS Y CITAS: 
DROP TABLE IF EXISTS CITAS;
DROP TABLE IF EXISTS MEDICOS;

-------------------------------------------------
CREATE TABLE MEDICOS
( 
  COD_MEDICO VARCHAR(10) PRIMARY KEY,
  NOMBRE_COMPLETO VARCHAR(80),
  ESPECIALIDAD VARCHAR(30),
  TURNO VARCHAR(10), -- 'MAÑANA', 'TARDE', 'NOCHE'
  CONSULTAS_DISPONIBLES_LUNES INT(3),
  CONSULTAS_DISPONIBLES_MARTES INT(3),
  CONSULTAS_DISPONIBLES_MIERCOLES INT(3),
  CONSULTAS_DISPONIBLES_JUEVES INT(3),
  CONSULTAS_DISPONIBLES_VIERNES INT(3),
  ANOS_EXPERIENCIA INT(2)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-----------------------------------------------------------------

CREATE TABLE CITAS
(
  NUM_CITA INT(7),
  COD_MEDICO VARCHAR(10),
  FECHA_CITA DATE,
  HORA_CITA TIME,
  MODALIDAD VARCHAR(15), -- 'PRESENCIAL', 'TELEMEDICINA'
  URGENTE VARCHAR(2), -- 'SI' O 'NO'
  ESTADO VARCHAR(15), -- 'PENDIENTE', 'REALIZADA', 'CANCELADA'
  CONSTRAINT PK_CITAS PRIMARY KEY(NUM_CITA, COD_MEDICO),
  CONSTRAINT FK_CITAS FOREIGN KEY(COD_MEDICO) REFERENCES MEDICOS(COD_MEDICO)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

------------------------------------------------------------------
--------------- LLENAR MEDICOS: -------------------------------

INSERT INTO MEDICOS VALUES('MED-001','Dra. Carmen López Ruiz','CARDIOLOGÍA','MAÑANA',10,10,10,10,8,15);
INSERT INTO MEDICOS VALUES('MED-002','Dr. Miguel Ángel Torres','TRAUMATOLOGÍA','TARDE',8,8,8,8,6,12);
INSERT INTO MEDICOS VALUES('MED-003','Dra. Ana Belén Martínez','PEDIATRÍA','MAÑANA',12,12,12,12,10,8);
INSERT INTO MEDICOS VALUES('MED-004','Dr. Javier Rodríguez Sanz','NEUROLOGÍA','TARDE',6,6,6,6,4,20);
INSERT INTO MEDICOS VALUES('MED-005','Dra. Laura Fernández Gil','DERMATOLOGÍA','MAÑANA',15,15,15,15,12,10);
INSERT INTO MEDICOS VALUES('MED-006','Dr. Pablo Sánchez Díaz','OFTALMOLOGÍA','TARDE',10,10,10,10,8,7);
INSERT INTO MEDICOS VALUES('MED-007','Dra. María José Ramírez','GINECOLOGÍA','MAÑANA',8,8,8,8,6,18);
INSERT INTO MEDICOS VALUES('MED-008','Dr. Fernando García López','ONCOLOGÍA','TARDE',5,5,5,5,4,22);
INSERT INTO MEDICOS VALUES('MED-009','Dra. Isabel Moreno Cruz','ENDOCRINOLOGÍA','MAÑANA',10,10,10,10,8,14);
INSERT INTO MEDICOS VALUES('MED-010','Dr. Antonio Jiménez Ruiz','PSIQUIATRÍA','TARDE',12,12,12,12,10,16);
INSERT INTO MEDICOS VALUES('MED-011','Dra. Raquel Hernández','UROLOGÍA','MAÑANA',8,8,8,8,6,11);
INSERT INTO MEDICOS VALUES('MED-012','Dr. Carlos Muñoz Pérez','MEDICINA GENERAL','NOCHE',20,20,20,20,15,5);
INSERT INTO MEDICOS VALUES('MED-013','Dra. Silvia Romero Vega','REUMATOLOGÍA','TARDE',7,7,7,7,5,13);

-----------------------------------------------------------
------------- LLENAR CITAS: ---------------------------
INSERT INTO CITAS VALUES(1001,'MED-001','2025-03-15','09:30:00','PRESENCIAL','NO','PENDIENTE');
INSERT INTO CITAS VALUES(1002,'MED-001','2025-03-15','10:00:00','TELEMEDICINA','NO','PENDIENTE');
INSERT INTO CITAS VALUES(1003,'MED-001','2025-03-16','09:00:00','PRESENCIAL','SI','REALIZADA');
INSERT INTO CITAS VALUES(1004,'MED-001','2025-03-17','11:30:00','PRESENCIAL','NO','PENDIENTE');

INSERT INTO CITAS VALUES(2001,'MED-002','2025-03-15','15:00:00','PRESENCIAL','NO','PENDIENTE');
INSERT INTO CITAS VALUES(2002,'MED-002','2025-03-15','16:30:00','PRESENCIAL','SI','REALIZADA');
INSERT INTO CITAS VALUES(2003,'MED-002','2025-03-16','15:30:00','TELEMEDICINA','NO','CANCELADA');
INSERT INTO CITAS VALUES(2004,'MED-002','2025-03-18','17:00:00','PRESENCIAL','NO','PENDIENTE');

INSERT INTO CITAS VALUES(3001,'MED-003','2025-03-15','08:30:00','PRESENCIAL','NO','REALIZADA');
INSERT INTO CITAS VALUES(3002,'MED-003','2025-03-15','09:30:00','PRESENCIAL','SI','REALIZADA');
INSERT INTO CITAS VALUES(3003,'MED-003','2025-03-16','10:00:00','TELEMEDICINA','NO','PENDIENTE');
INSERT INTO CITAS VALUES(3004,'MED-003','2025-03-17','11:00:00','PRESENCIAL','NO','PENDIENTE');
INSERT INTO CITAS VALUES(3005,'MED-003','2025-03-18','09:00:00','PRESENCIAL','NO','PENDIENTE');

INSERT INTO CITAS VALUES(4001,'MED-004','2025-03-15','16:00:00','PRESENCIAL','SI','REALIZADA');
INSERT INTO CITAS VALUES(4002,'MED-004','2025-03-16','17:30:00','TELEMEDICINA','NO','PENDIENTE');
INSERT INTO CITAS VALUES(4003,'MED-004','2025-03-17','16:00:00','PRESENCIAL','NO','CANCELADA');

INSERT INTO CITAS VALUES(5001,'MED-005','2025-03-15','10:00:00','PRESENCIAL','NO','REALIZADA');
INSERT INTO CITAS VALUES(5002,'MED-005','2025-03-15','11:30:00','PRESENCIAL','NO','REALIZADA');
INSERT INTO CITAS VALUES(5003,'MED-005','2025-03-16','09:00:00','TELEMEDICINA','NO','PENDIENTE');
INSERT INTO CITAS VALUES(5004,'MED-005','2025-03-17','10:30:00','PRESENCIAL','NO','PENDIENTE');
INSERT INTO CITAS VALUES(5005,'MED-005','2025-03-18','11:00:00','PRESENCIAL','SI','PENDIENTE');

INSERT INTO CITAS VALUES(6001,'MED-006','2025-03-15','15:30:00','PRESENCIAL','NO','REALIZADA');
INSERT INTO CITAS VALUES(6002,'MED-006','2025-03-16','16:00:00','PRESENCIAL','NO','PENDIENTE');
INSERT INTO CITAS VALUES(6003,'MED-006','2025-03-17','17:30:00','TELEMEDICINA','NO','PENDIENTE');

INSERT INTO CITAS VALUES(7001,'MED-007','2025-03-15','09:00:00','PRESENCIAL','NO','REALIZADA');
INSERT INTO CITAS VALUES(7002,'MED-007','2025-03-16','10:30:00','PRESENCIAL','SI','REALIZADA');
INSERT INTO CITAS VALUES(7003,'MED-007','2025-03-17','09:30:00','TELEMEDICINA','NO','PENDIENTE');
INSERT INTO CITAS VALUES(7004,'MED-007','2025-03-18','11:00:00','PRESENCIAL','NO','CANCELADA');

INSERT INTO CITAS VALUES(8001,'MED-008','2025-03-15','16:30:00','PRESENCIAL','SI','REALIZADA');
INSERT INTO CITAS VALUES(8002,'MED-008','2025-03-16','15:00:00','PRESENCIAL','SI','REALIZADA');
INSERT INTO CITAS VALUES(8003,'MED-008','2025-03-18','17:00:00','TELEMEDICINA','NO','PENDIENTE');

INSERT INTO CITAS VALUES(9001,'MED-009','2025-03-15','08:00:00','PRESENCIAL','NO','REALIZADA');
INSERT INTO CITAS VALUES(9002,'MED-009','2025-03-15','10:00:00','PRESENCIAL','NO','PENDIENTE');
INSERT INTO CITAS VALUES(9003,'MED-009','2025-03-16','09:30:00','TELEMEDICINA','NO','PENDIENTE');
INSERT INTO CITAS VALUES(9004,'MED-009','2025-03-17','11:30:00','PRESENCIAL','NO','PENDIENTE');

INSERT INTO CITAS VALUES(10001,'MED-010','2025-03-15','15:00:00','TELEMEDICINA','NO','REALIZADA');
INSERT INTO CITAS VALUES(10002,'MED-010','2025-03-16','16:30:00','PRESENCIAL','NO','PENDIENTE');
INSERT INTO CITAS VALUES(10003,'MED-010','2025-03-17','17:00:00','PRESENCIAL','SI','PENDIENTE');
INSERT INTO CITAS VALUES(10004,'MED-010','2025-03-18','15:30:00','TELEMEDICINA','NO','PENDIENTE');

INSERT INTO CITAS VALUES(11001,'MED-011','2025-03-15','09:00:00','PRESENCIAL','NO','REALIZADA');
INSERT INTO CITAS VALUES(11002,'MED-011','2025-03-16','10:30:00','PRESENCIAL','NO','PENDIENTE');
INSERT INTO CITAS VALUES(11003,'MED-011','2025-03-18','11:00:00','TELEMEDICINA','NO','CANCELADA');

INSERT INTO CITAS VALUES(12001,'MED-012','2025-03-15','22:00:00','PRESENCIAL','SI','REALIZADA');
INSERT INTO CITAS VALUES(12002,'MED-012','2025-03-15','23:30:00','PRESENCIAL','SI','REALIZADA');
INSERT INTO CITAS VALUES(12003,'MED-012','2025-03-16','21:00:00','TELEMEDICINA','NO','PENDIENTE');
INSERT INTO CITAS VALUES(12004,'MED-012','2025-03-17','22:30:00','PRESENCIAL','SI','PENDIENTE');
INSERT INTO CITAS VALUES(12005,'MED-012','2025-03-18','23:00:00','PRESENCIAL','NO','PENDIENTE');

INSERT INTO CITAS VALUES(13001,'MED-013','2025-03-15','16:00:00','PRESENCIAL','NO','REALIZADA');
INSERT INTO CITAS VALUES(13002,'MED-013','2025-03-16','17:30:00','PRESENCIAL','NO','PENDIENTE');
INSERT INTO CITAS VALUES(13003,'MED-013','2025-03-18','16:30:00','TELEMEDICINA','NO','PENDIENTE');
